(function(e){function t(t){for(var n,o,s=t[0],c=t[1],u=t[2],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d226cba":"c39e9cab"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,a[1](u)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0066":function(e,t,a){var n=a("9862");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("11efac47",n,!0,{sourceMap:!1,shadowMode:!1})},"0945":function(e,t,a){"use strict";var n=a("f3a3"),r=a.n(n);r.a},"0bb9":function(e,t,a){var n=a("baa4");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("3fac8bd3",n,!0,{sourceMap:!1,shadowMode:!1})},"0e27":function(e,t,a){var n=a("32ec");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("c92a6bde",n,!0,{sourceMap:!1,shadowMode:!1})},"0ed0":function(e,t,a){"use strict";var n=a("ec5f"),r=a.n(n);r.a},1668:function(e,t,a){var n=a("6b3a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("5d3a6895",n,!0,{sourceMap:!1,shadowMode:!1})},"200d":function(e,t,a){"use strict";var n=a("5722"),r=a.n(n);r.a},2557:function(e,t,a){"use strict";var n=a("b2fb"),r=a.n(n);r.a},2661:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".annotation-track-container[data-v-275ebfa0]{width:100%}.annotation-track[data-v-275ebfa0]{position:relative}.annotation-detail[data-v-275ebfa0]{border:3px solid #4d4f4e;padding:10px;margin-bottom:5px;font-size:18px}.annotation-detail .detail-table[data-v-275ebfa0]{margin:0 auto;margin-bottom:10px;text-align:left}.annotation-detail .detail-table th[data-v-275ebfa0]{padding-right:15px}.is-public[data-v-275ebfa0]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.is-public span[data-v-275ebfa0]{height:9px}.is-public .visibility-icon[data-v-275ebfa0]{height:20px;margin-right:7px}.is-public .visibility-icon[data-v-275ebfa0]  path{fill:#838688}.btn-list[data-v-275ebfa0]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.btn-list>*[data-v-275ebfa0]{margin:5px;-ms-flex-preferred-size:content;flex-basis:content;min-width:250px}.error[data-v-275ebfa0]{color:red}",""]),e.exports=t},"26a5":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".framewise-visualization[data-v-7149ecdb]{width:100%;min-height:50px;height:100%}",""]),e.exports=t},"2b8e":function(e,t,a){var n=a("5de8");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("2838cd7d",n,!0,{sourceMap:!1,shadowMode:!1})},"2dd6":function(e,t,a){var n=a("8224");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("33ff7071",n,!0,{sourceMap:!1,shadowMode:!1})},"2f9f":function(e,t,a){"use strict";var n=a("b443"),r=a.n(n);r.a},"30e4":function(e,t,a){"use strict";var n=a("5efc"),r=a.n(n);r.a},"32ec":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".waveform[data-v-934e9454]{min-height:50px}",""]),e.exports=t},"341f":function(e,t,a){var n=a("2661");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("3dee5dc8",n,!0,{sourceMap:!1,shadowMode:!1})},3724:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".form-title[data-v-769e2346]{font-weight:700;font-size:18px;margin-top:0}.error[data-v-769e2346]{color:red}",""]),e.exports=t},"384d":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".waveform-container[data-v-80bce112]{width:100%;height:300px}.waveform-container .error[data-v-80bce112],.waveform-container .loading[data-v-80bce112]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.waveform-container .waveform[data-v-80bce112]{height:100%}.waveform-container .error[data-v-80bce112]{color:red}",""]),e.exports=t},"392d":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"#app[data-v-f0c7cf72]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px}#app[data-v-f0c7cf72]  *,#app[data-v-f0c7cf72]  :after,#app[data-v-f0c7cf72]  :before{-webkit-box-sizing:border-box;box-sizing:border-box}",""]),e.exports=t},"3a55":function(e,t,a){"use strict";var n=a("cb7e"),r=a.n(n);r.a},"3ac1":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".maintrack-container[data-v-63c7975e]{position:relative}.maintrack[data-v-63c7975e]{height:70px}",""]),e.exports=t},"3bea":function(e,t,a){var n=a("ad39");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("62096360",n,!0,{sourceMap:!1,shadowMode:!1})},"43f2":function(e,t,a){var n=a("ca7b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("99b6cb70",n,!0,{sourceMap:!1,shadowMode:!1})},4595:function(e,t,a){"use strict";var n=a("43f2"),r=a.n(n);r.a},4683:function(e,t,a){"use strict";var n=a("f2c2"),r=a.n(n);r.a},"4b49":function(e,t,a){var n=a("ed6c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("3738a334",n,!0,{sourceMap:!1,shadowMode:!1})},"4dbb":function(e,t,a){"use strict";var n=a("a621"),r=a.n(n);r.a},"4f6e":function(e,t,a){"use strict";var n=a("8a74"),r=a.n(n);r.a},"4fc2":function(e,t,a){var n=a("d83b");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("89652d1e",n,!0,{sourceMap:!1,shadowMode:!1})},5722:function(e,t,a){var n=a("ea67");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("82852b48",n,!0,{sourceMap:!1,shadowMode:!1})},"5da9":function(e,t,a){"use strict";var n=a("c1da"),r=a.n(n);r.a},"5de8":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".annotation[data-v-6049afbe]{position:absolute;background:grey;display:inline-block;margin:0;top:0;height:100%;cursor:pointer;opacity:.5}.annotation[data-v-6049afbe]:hover{opacity:1}.annotation .title-box[data-v-6049afbe]{position:absolute;top:0;background-color:inherit;min-width:100%;color:#fff;font-size:18px;padding:7px 20px}.annotation .title-box p[data-v-6049afbe]{margin:0}.annotation .title-box p[data-v-6049afbe]:not(:last-child){margin-bottom:3px}.annotation .title-box .title[data-v-6049afbe]{font-weight:700}",""]),e.exports=t},"5efc":function(e,t,a){var n=a("8122");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("1c2aefc9",n,!0,{sourceMap:!1,shadowMode:!1})},6600:function(e,t,a){"use strict";var n=a("4fc2"),r=a.n(n);r.a},"6abe":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".error[data-v-371e32bd]{color:red}.annotation-track[data-v-371e32bd]{margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid #c6c6c6}.animate-track-enter-active[data-v-371e32bd]{-webkit-transition:-webkit-box-shadow 5s;transition:-webkit-box-shadow 5s;transition:box-shadow 5s;transition:box-shadow 5s,-webkit-box-shadow 5s}.animate-track-enter[data-v-371e32bd],.animate-track-leave-to[data-v-371e32bd]{-webkit-box-shadow:10px 10px 45px rgba(0,0,0,.6);box-shadow:10px 10px 45px rgba(0,0,0,.6)}",""]),e.exports=t},"6b3a":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".error[data-v-eff11a22]{color:red}",""]),e.exports=t},"7bb6":function(e,t,a){var n=a("e33d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("8acb547c",n,!0,{sourceMap:!1,shadowMode:!1})},"7d84":function(e,t,a){"use strict";var n=a("1668"),r=a.n(n);r.a},"7d89":function(e,t,a){"use strict";var n=a("0066"),r=a.n(n);r.a},8122:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".select-api[data-v-9cbb5946]{margin:20px}",""]),e.exports=t},8224:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".annotations[data-v-683d86b4]{position:relative}",""]),e.exports=t},"876a":function(e,t,a){"use strict";var n=a("3bea"),r=a.n(n);r.a},"88eb":function(e,t,a){"use strict";var n=a("341f"),r=a.n(n);r.a},"8a74":function(e,t,a){var n=a("384d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("21f03e38",n,!0,{sourceMap:!1,shadowMode:!1})},"8ebb":function(e,t,a){"use strict";var n=a("0e27"),r=a.n(n);r.a},"97e5":function(e,t,a){"use strict";(function(e){a.d(t,"baseUrls",(function(){return f})),a.d(t,"basePath",(function(){return v})),a.d(t,"persistentToken",(function(){return p})),a.d(t,"rawApi",(function(){return b})),a.d(t,"newAbortableApi",(function(){return h}));a("ac1f"),a("1276");var n,r,i,o,s=a("5530"),c=a("0612"),u=a.n(c),l=a("8b56");a.o(l,"AnalysisRenderTypeEnum")&&a.d(t,"AnalysisRenderTypeEnum",(function(){return l["AnalysisRenderTypeEnum"]})),a.o(l,"ItemListFromJSONTyped")&&a.d(t,"ItemListFromJSONTyped",(function(){return l["ItemListFromJSONTyped"]})),a.o(l,"ItemToJSON")&&a.d(t,"ItemToJSON",(function(){return l["ItemToJSON"]})),a.o(l,"JWTToken")&&a.d(t,"JWTToken",(function(){return l["JWTToken"]})),a.o(l,"getAnalysisUrl")&&a.d(t,"getAnalysisUrl",(function(){return l["getAnalysisUrl"]})),a.o(l,"getAnnotationTrackUrl")&&a.d(t,"getAnnotationTrackUrl",(function(){return l["getAnnotationTrackUrl"]})),a.o(l,"getItemUrl")&&a.d(t,"getItemUrl",(function(){return l["getItemUrl"]})),a.o(l,"getUuidFromAnalysisUrl")&&a.d(t,"getUuidFromAnalysisUrl",(function(){return l["getUuidFromAnalysisUrl"]})),a.o(l,"getUuidFromResultUrl")&&a.d(t,"getUuidFromResultUrl",(function(){return l["getUuidFromResultUrl"]}));var d=["https://sandbox.wasabi.telemeta.org","https://wasabi.telemeta.org","https://timeside.ircam.fr"],f=null!==(n=null===(r=e)||void 0===r||null===(i=Object({NODE_ENV:"production",BASE_URL:""}))||void 0===i||null===(o=i.VUE_APP_TIMESIDE_BASE_URL)||void 0===o?void 0:o.split(","))&&void 0!==n?n:d,v=window.localStorage.getItem("api-url")||f[0],p=("".concat(v,"/admin/login/"),new l["LocalStorageJWTToken"]);p.init();var m={basePath:v,fetchApi:u.a},b=new l["TimesideApi"](new l["Configuration"](m)),g=Object(l["AutoRefreshConfiguration"])(m,p);function h(e){var t=Object(l["AbortableFetch"])(e,g.fetchApi);return new l["TimesideApi"](new l["Configuration"](Object(s["a"])(Object(s["a"])({},g),{},{fetchApi:t})))}t["default"]=new l["TimesideApi"](new l["Configuration"](g))}).call(this,a("4362"))},9862:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".x-axis-container[data-v-2ccf9b31]{min-height:30px}",""]),e.exports=t},"9b55":function(e,t,a){"use strict";var n=a("e7f9"),r=a.n(n);r.a},"9d1e":function(e,t,a){"use strict";var n=a("4b49"),r=a.n(n);r.a},"9dcd":function(e,t,a){"use strict";var n=a("2dd6"),r=a.n(n);r.a},"9ffc":function(e,t,a){"use strict";var n=a("d3af"),r=a.n(n);r.a},a3a7:function(e,t,a){"use strict";var n=a("7bb6"),r=a.n(n);r.a},a621:function(e,t,a){var n=a("392d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("282543ce",n,!0,{sourceMap:!1,shadowMode:!1})},ad39:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".hdf5-visualization[data-v-178c741e]{width:100%;height:100%}.error[data-v-178c741e]{color:red}",""]),e.exports=t},b19f:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".bitmap-visualization[data-v-72d37cc8]{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.error[data-v-72d37cc8]{color:red}.png-visualization[data-v-72d37cc8]{width:100%;height:100%}",""]),e.exports=t},b241:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".fluid-svg[data-v-b0a85f18]{display:block}",""]),e.exports=t},b2ad:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".analysis-track[data-v-fd6dfcb0]{width:100%;height:200px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:relative}",""]),e.exports=t},b2fb:function(e,t,a){var n=a("edb4");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("64aede6f",n,!0,{sourceMap:!1,shadowMode:!1})},b443:function(e,t,a){var n=a("3ac1");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("0e193baa",n,!0,{sourceMap:!1,shadowMode:!1})},ba60:function(e,t,a){var n=a("26a5");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("fb84b94a",n,!0,{sourceMap:!1,shadowMode:!1})},baa4:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".item-info[data-v-1c4ffd84]{text-align:left}.item-info .title-container .title[data-v-1c4ffd84]{font-size:23px}.item-info .title-container .uuid[data-v-1c4ffd84]{font-style:italic;font-size:14px}.item-info .description[data-v-1c4ffd84]{color:grey;font-size:12px}.line[data-v-1c4ffd84]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.timer[data-v-1c4ffd84]{text-align:right}.menu[data-v-1c4ffd84],.menu button[data-v-1c4ffd84]{background:#606062}.menu button[data-v-1c4ffd84]{font-size:22px;display:block;color:#fff;border:none;cursor:pointer;padding:12px 30px}.tabs[data-v-1c4ffd84]{display:-webkit-box;display:-ms-flexbox;display:flex;border-top:5px solid #606062;border-left:5px solid #606062}.tabs .tab.active[data-v-1c4ffd84]{background:#fff;color:#606062}.actions[data-v-1c4ffd84],.actions button[data-v-1c4ffd84]{display:-webkit-box;display:-ms-flexbox;display:flex}.actions button[data-v-1c4ffd84]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.actions button.active[data-v-1c4ffd84]{background-color:#424242}.actions button .plus-picto[data-v-1c4ffd84]{font-size:40px;font-weight:700;margin-right:5px;display:block;height:30px;margin-top:-20px}.analysis-tab[data-v-1c4ffd84],.info-tab[data-v-1c4ffd84]{padding:20px 0}.info-tab[data-v-1c4ffd84]{text-align:left;font-size:18px}.info-table tr[data-v-1c4ffd84]{margin-bottom:5px}.info-table th[data-v-1c4ffd84]{padding-left:5px;padding-right:20px;color:#444;background-color:#f9f9f9;border-right:.3em solid #ddd}.info-table td[data-v-1c4ffd84]{padding-top:5px;padding-left:20px}.create-form-container[data-v-1c4ffd84]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:200px}.error[data-v-1c4ffd84]{color:red}",""]),e.exports=t},c1da:function(e,t,a){var n=a("b19f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("7825c139",n,!0,{sourceMap:!1,shadowMode:!1})},c51a:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".form-container[data-v-0f72e8f8]{padding-top:10px;padding-bottom:10px}",""]),e.exports=t},ca7b:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".create-annotation[data-v-ab66473a]{text-align:center;padding:10px}.create-annotation>*[data-v-ab66473a]{margin:0 auto;margin-bottom:10px;display:block}.error[data-v-ab66473a]{color:red}",""]),e.exports=t},cb6f:function(e,t,a){var n=a("c51a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("0c6a7ab6",n,!0,{sourceMap:!1,shadowMode:!1})},cb7e:function(e,t,a){var n=a("e368");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("63ed7346",n,!0,{sourceMap:!1,shadowMode:!1})},cd49:function(e,t,a){"use strict";a.r(t);var n=a("ade3"),r=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),i=a("8c4f"),o=a("a6f4"),s=a("9bcc"),c=a.n(s);c()({required:{e:-2,i:11,f:-3,o:-3,s:10.1,c:-2,samsung:7,vivaldi:1.2},insecure:!0});var u=a("a65d"),l=a.n(u),d=(a("a4d3"),a("e01a"),a("d3b7"),Symbol("vue-toasted key"));function f(){var e=Object(o["e"])(d);if(!e)throw new Error("Toasted not available");return e}var v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"header"},[a("h1",[e._v("Welcome to timeside-player")]),a("router-link",{attrs:{to:{name:"list"}}},[e._v(" Home ")]),a("SelectAPI"),a("button",{staticClass:"logout",on:{click:e.logout}},[e._v(" Logout ")])],1),a("router-view")],1)},p=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{directives:[{name:"model",rawName:"v-model",value:e.apiUrl,expression:"apiUrl"}],staticClass:"select-api",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.apiUrl=t.target.multiple?a:a[0]}}},e._l(e.urls,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(e.prettyPrint(t))+" ")])})),0)},b=[],g=(a("3ca3"),a("ddb0"),a("2b3d"),a("97e5")),h=Object(o["c"])({name:"SelectAPI",setup:function(){var e=Object(o["j"])(localStorage.getItem("api-url")||g["baseUrls"][0]);Object(o["m"])((function(){localStorage.getItem("api-url")!==e.value&&(localStorage.setItem("api-url",e.value),document.location.reload(!1))}));var t=function(e){try{var t=new URL(e);return t.hostname}catch(a){return e}};return{apiUrl:e,urls:g["baseUrls"],prettyPrint:t}}}),y=h,x=(a("30e4"),a("2877")),w=Object(x["a"])(y,m,b,!1,null,"9cbb5946",null),j=w.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isLoading?a("div",{staticClass:"loading"},[e._v(" Loading... ")]):[e.isUnauthorized?a("div",[a("Login",{staticClass:"login",on:{success:e.onLogin}})],1):e.error?a("div",{staticClass:"error"},[e._v(" "+e._s(e.error)+" ")]):e.itemList?a("div",{staticClass:"items"},e._l(e.itemList,(function(t){return a("router-link",{key:t.uuid,attrs:{to:{name:"item",params:{id:t.uuid}}}},[e._v(" "+e._s(t.title)+" "),a("span",{staticClass:"description"},[e._v(e._s(t.description))])])})),1):a("div",[e._v(" This should not happen: no error, no loading but itemList is undefined ")])]],2)},O=[],_=(a("96cf"),a("1da1")),T=(a("4160"),a("07ac"),a("159b"),a("2f62")),C=(a("b64b"),a("25f0"),a("1898")),A=function(){return{promise:void 0,error:void 0,itemList:void 0}},E=A,R=Object(C["c"])()({isLoading:function(e){return void 0!==e.promise},isUnauthorized:function(e){return e.error&&401===e.error.status||!1}}),P=Object(C["e"])()({resetState:function(e){Object.assign(e,A())},setPromise:function(e,t){e.promise=t},unsetPromise:function(e){e.promise=void 0},setItems:function(e,t){e.itemList=t},addItem:function(e,t){if(!e.itemList)throw new Error("state.itemList is ".concat(e.itemList,". Unable to push"));e.itemList.push(t)},setError:function(e,t){e.error=t},unsetError:function(e){e.error=void 0}}),L=Object(C["b"])({getItems:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=U(e),n=a.commit,r=g["default"].listItems({}),n.unsetError(),n.setPromise(r),t.prev=4,t.next=7,r;case 7:i=t.sent,n.setItems(i),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),n.setError(t.t0);case 14:n.unsetPromise();case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()}}),S=Object(C["d"])({state:E,getters:R,mutations:P,actions:L,namespaced:!0}),U=function(e){return ne(e,S)},I=S,M=function(){return{promises:{},items:{},errors:{}}},z=M;function $(e){var t=e.audioUrl;if(t&&Object.keys(t).length>0){for(var a=["flac","mp3","ogg"],n=[],r=0,i=a;r<i.length;r++){var o=i[r],s="audio/".concat(o),c=t[o];if(void 0!==c){var u=void 0;try{u=new URL(c)}catch(d){console.warn("AudioSrc: Invalid format (".concat(c,"). Skipping..."));continue}n.push({type:s,src:u.toString()})}}return n}if(e.sourceFile){var l=e.sourceFile;return[{type:void 0,src:l}]}}var q,F,D=Object(C["c"])()({isLoading:function(e){return function(t){return void 0!==e.promises[t]}},isUnauthorized:function(e){return function(t){return e.errors[t]&&401===e.errors[t].status}},getPromiseById:function(e){return function(t){return e.promises[t]}},getItemById:function(e){return function(t){return e.items[t]}},getErrorById:function(e){return function(t){return e.errors[t]}},getAudioSrcs:function(e,t){return function(e){var a=t.getItemById(e);if(a)return $(a)}}}),N=Object(C["e"])()({resetState:function(e){Object.assign(e,M())},setPromise:function(e,t){var a=t.uuid,n=t.promise;r["a"].set(e.promises,a,n)},unsetPromise:function(e,t){r["a"].delete(e.promises,t)},setItem:function(e,t){if(!t.uuid)throw new Error("Trying to set an item without uuid: ".concat(JSON.stringify(t)));r["a"].set(e.items,t.uuid,t)},setError:function(e,t){var a=t.uuid,n=t.error;r["a"].set(e.errors,a,n)},unsetError:function(e,t){r["a"].delete(e.errors,t)}}),V=Object(C["b"])({retrieveItem:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=B(e),r=n.commit,i=g["default"].retrieveItem({uuid:t}),r.setPromise({uuid:t,promise:i}),a.prev=3,a.next=6,i;case 6:o=a.sent,r.setItem(o),r.unsetError(t),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),r.setError({uuid:t,error:a.t0});case 14:r.unsetPromise(t);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))()},createItem:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=B(e),r=n.commit,a.next=3,g["default"].createItem({item:t});case 3:i=a.sent,r.setItem(i),o=Object(g["ItemListFromJSONTyped"])(Object(g["ItemToJSON"])(i),!1),s=U(e),c=s.commit,c.addItem(o);case 8:case"end":return a.stop()}}),a)})))()}}),W=Object(C["d"])({state:z,getters:D,mutations:N,actions:V,namespaced:!0}),B=function(e){return ne(e,W)},J=W;(function(e){e[e["Stop"]=0]="Stop",e[e["Play"]=1]="Play",e[e["Pause"]=2]="Pause"})(q||(q={})),function(e){e[e["TimeUpdate"]=0]="TimeUpdate",e[e["Seek"]=1]="Seek",e[e["Cursor"]=2]="Cursor"}(F||(F={}));var X=function(){return{playState:q.Stop,currentTime:{value:0,source:F.TimeUpdate},duration:0,playbackRate:1}},H=X,G=Object(C["c"])()({isReady:function(e){return 0!==e.duration}}),Y=Object(C["e"])()({resetState:function(e){Object.assign(e,X())},setPlayState:function(e,t){e.playState=t},setDuration:function(e,t){e.duration=t},setCurrentTime:function(e,t){e.currentTime=t},setPlayBackRate:function(e,t){e.playbackRate=t}}),K=Object(C["b"])({}),Q=Object(C["d"])({state:H,getters:G,mutations:Y,actions:K,namespaced:!0}),Z=Q;r["a"].use(T["a"]);var ee={modules:{items:J,itemList:I,audio:Z}},te=Object(C["a"])(ee),ae=te.store,ne=(te.rootActionContext,te.moduleActionContext);function re(){return ae}var ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"el",staticClass:"player"},[a("Audio",{attrs:{"audio-srcs":e.audioSrcs}}),e.audioReady?a("div",[a("div",{staticClass:"line"},[a("div",{staticClass:"item-info"},[a("div",{staticClass:"title-container"},[a("span",{staticClass:"title"},[e._v(e._s(e.item.title))])])]),a("div",[a("Controls"),a("Timer",{staticClass:"timer"})],1)]),a("MainTrack",{staticClass:"main-track",attrs:{"item-id":e.item.uuid,selection:e.selection},on:{selection:e.onSelection}}),a("div",{staticClass:"menu"},[a("div",{staticClass:"line"},[a("div",{staticClass:"tabs"},[a("button",{class:["tab",{active:e.currentTab===e.Tab.Info}],on:{click:function(t){return e.setTab(e.Tab.Info)}}},[e._v(" Information ")]),a("button",{class:["tab",{active:e.currentTab===e.Tab.Analysis}],on:{click:function(t){return e.setTab(e.Tab.Analysis)}}},[e._v(" Annotations / Analysis ")])]),e.currentTab===e.Tab.Analysis?a("div",{staticClass:"actions"},[a("button",{class:{active:e.isAnalysisTrackFormOpen},on:{click:function(t){e.isAnalysisTrackFormOpen=!e.isAnalysisTrackFormOpen,e.isAnnotationTrackFormOpen=!1}}},[a("span",{staticClass:"plus-picto"},[e._v("+")]),e._v(" analysis track ")]),a("button",{class:{active:e.isAnnotationTrackFormOpen},on:{click:function(t){e.isAnnotationTrackFormOpen=!e.isAnnotationTrackFormOpen,e.isAnalysisTrackFormOpen=!1}}},[a("span",{staticClass:"plus-picto"},[e._v("+")]),e._v(" annotation track ")])]):e._e()])]),e.currentTab===e.Tab.Info?a("div",{staticClass:"info-tab"},[a("table",{staticClass:"info-table"},[a("tbody",[a("tr",{staticClass:"uuid"},[a("th",[e._v("uuid")]),a("td",[e._v(e._s(e.item.uuid))])]),a("tr",{staticClass:"description"},[a("th",[e._v("description")]),a("td",[e._v(e._s(e.item.description))])]),a("tr",{staticClass:"samplerate"},[a("th",[e._v("sample rate")]),a("td",[e._v(e._s(e.item.samplerate)+" Hz")])]),a("tr",{staticClass:"duration"},[a("th",[e._v("audio duration")]),a("td",[e._v(e._s(e.item.audioDuration)+" seconds")])])])])]):e.currentTab===e.Tab.Analysis?a("div",{staticClass:"analysis-tab"},[e.isAnalysisTrackFormOpen?a("div",{staticClass:"create-form-container"},[a("CreateAnalysisTrack",{staticClass:"create-form",attrs:{"item-id":e.item.uuid},on:{"new-analysis-track":function(t){e.analysisTracks.add(t),e.isAnalysisTrackFormOpen=!1},close:function(t){e.isAnalysisTrackFormOpen=!1}}})],1):e._e(),e.isAnnotationTrackFormOpen?a("div",{staticClass:"create-form-container"},[a("CreateAnnotationTrack",{staticClass:"create-form",attrs:{"item-id":e.item.uuid},on:{"new-annotation-track":function(t){e.annotationTracks.add(t),e.isAnnotationTrackFormOpen=!1},close:function(t){e.isAnnotationTrackFormOpen=!1}}})],1):e._e(),a("AnnotationTracks",{attrs:{"item-id":e.item.uuid,selection:e.selection,"annotation-tracks":e.annotationTracks}}),a("AnalysisTracks",{attrs:{"item-id":e.item.uuid,selection:e.selection,"analysis-tracks":e.analysisTracks}})],1):e._e()],1):a("div",[e._v(" Loading audio file... ")])],1)},oe=[];function se(e){if(void 0===e||null===e)throw new Error("Expected 'val' to be defined, but received ".concat(e))}var ce=Symbol("PlayerRectKey");function ue(e){Object(o["h"])(ce,e)}function le(){var e=Object(o["e"])(ce);if(!e)throw new Error("playerRect not available");return e}a("7db0");var de=a("6dd8");function fe(e){var t,a=Object(o["j"])({x:0,y:0,width:0,height:0,left:0});return Object(o["f"])((function(){se(e.value),a.value=e.value.getBoundingClientRect()})),Object(o["f"])((function(){t=new de["a"]((function(t){se(e.value);var n=t.find((function(t){return t.target===e.value}));se(n),a.value=e.value.getBoundingClientRect()})),se(e.value),t.observe(e.value)})),Object(o["g"])((function(){t&&(se(e.value),t.unobserve(e.value))})),a}a("b0c0"),a("ac1f"),a("5319");var ve=a("5530");function pe(){var e=Object(o["d"])();if(!e)throw new ReferenceError("Not found vue instance.");var t=Object(o["a"])((function(){return e.$route})),a=Object(o["a"])((function(){return e.$router}));return{route:t,router:a}}function me(e){var t=pe(),a=t.route,n=t.router,r=re(),i=function(){var t=Object(o["a"])((function(){var t=function(e){return e.toString()};return e.value?{start:t(e.value.start),stop:t(e.value.stop)}:{start:void 0,stop:void 0}})),i=Object(o["a"])((function(){var e=a.value.query,t=e.start,n=e.stop;if(!Array.isArray(t)&&!Array.isArray(n)&&t&&n){var i=parseInt(t),o=parseInt(n);if(!isNaN(i)&&!isNaN(i)){var s=Math.round(r.state.audio.duration);if(i<0||i>s)console.warn("query params: unexpected start value",i);else{if(!(o<0||o>s))return{start:i,stop:o};console.warn("query params: unexpected stop value",o)}}}})),s=function(){var e=t.value,r=e.start,i=e.stop,o=a.value.query,s=o.start,c=o.stop;r===s&&i===c||(se(a.value.name),n.value.replace(Object(ve["a"])(Object(ve["a"])({},a.value),{},{name:a.value.name,query:Object(ve["a"])(Object(ve["a"])({},a.value.query),{},{start:r,stop:i})})))},c=function(){if(i.value){var t=i.value,a=t.start,n=t.stop;void 0!==e.value&&a===e.value.start&&n===e.value.stop||(e.value={start:a,stop:n},s())}};Object(o["l"])([i],(function(){c()}),{immediate:!0}),Object(o["l"])([t],(function(){s()}),{immediate:!0})},s=Object(o["a"])((function(){return!0===r.getters.audio.isReady}));Object(o["f"])((function(){var e=null;e=Object(o["l"])([s],(function(){!0===s.value&&(i(),null!==e&&e())}),{immediate:!0})}))}var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"controls"},[a("div",{staticClass:"form-container"},[a("label",{attrs:{for:"playback-rate"}},[e._v(" Playback rate: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.playbackRate,expression:"playbackRate"}],attrs:{type:"number",min:"0.5",max:"4.0",step:"0.1",placeholder:"playback rate"},domProps:{value:e.playbackRate},on:{input:function(t){t.target.composing||(e.playbackRate=t.target.value)}}})])])},ge=[],he=Object(o["c"])({name:"Controls",setup:function(){var e=re(),t=Object(o["a"])({get:function(){return e.state.audio.playbackRate},set:function(t){e.commit.audio.setPlayBackRate(t)}});return{playbackRate:t}}}),ye=he,xe=(a("edeb"),Object(x["a"])(ye,be,ge,!1,null,"0f72e8f8",null)),we=xe.exports,je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"timer"},[a("span",{staticClass:"current",attrs:{title:"current time"}},[e._v(e._s(e.current))]),e._v(" / "),a("span",{staticClass:"total",attrs:{title:"total time"}},[e._v(e._s(e.total))])])},ke=[],Oe=(a("a15b"),a("b680"),function(e){var t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=e-3600*t-60*a,r=function(e){return e<10?"0":""};return[r(t)+t.toString(),r(a)+a.toString(),r(n)+n.toFixed(2)].join(":")}),_e=Object(o["c"])({name:"Timer",setup:function(){var e,t=re(),a=Object(o["j"])(0),n=10,r=function(){a.value+=n},i=function(){e=window.setInterval(r,n)},s=function(){e&&clearInterval(e),e=void 0},c=Object(o["a"])((function(){return t.state.audio.playState}));Object(o["l"])([c],(function(){switch(a.value=t.state.audio.currentTime.value,c.value){case q.Play:i();break;case q.Pause:s();break;case q.Stop:s();break;default:console.error("Unknown PlayState",c.value)}}),{flush:"pre"}),Object(o["m"])((function(){var e=t.state.audio.currentTime,n=e.value,r=e.source;r===F.Seek&&(a.value=n)}));var u=Object(o["a"])((function(){return Oe(a.value/1e3)})),l=Object(o["a"])((function(){return Oe(t.state.audio.duration/1e3)}));return{current:u,total:l}}}),Te=_e,Ce=Object(x["a"])(Te,je,ke,!1,null,"6401ca1d",null),Ae=Ce.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"audio"},[e.audioSrcs?a("audio",{ref:"el",attrs:{autoplay:"",controls:""},on:{timeupdate:e.onTimeUpdate,pause:e.onPause,playing:e.onPlaying,ended:e.onEnded,error:function(t){e.audioError=t},durationchange:e.onDurationChange,seeked:e.onSeeked}},[e._l(e.audioSrcs,(function(e){return a("source",{key:e.src,attrs:{src:e.src,type:e.type}})})),e._m(0)],2):a("p",{staticClass:"error"},[e._v(" Your selection have no valid audio file ")]),e.audioError?a("p",{staticClass:"error"},[e._v(" Unable to load media file: "+e._s(e.audioError)+" ")]):e._e()])},Re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"error"},[e._v(" Your browser does not support the "),a("code",[e._v("audio")]),e._v(" element. ")])}],Pe=Object(o["c"])({props:{audioSrcs:{type:Array,required:!0}},setup:function(){var e=re(),t=Object(o["j"])(),a=Object(o["j"])(),n=function(t){se(t.target);var a=t.target;e.commit.audio.setCurrentTime({value:1e3*a.currentTime,source:F.TimeUpdate})},r=function(){se(t.value),t.value.seeking||(e.commit.audio.setCurrentTime({value:1e3*t.value.currentTime,source:F.TimeUpdate}),e.commit.audio.setPlayState(q.Pause))},i=function(){se(t.value),e.commit.audio.setCurrentTime({value:1e3*t.value.currentTime,source:F.TimeUpdate}),e.commit.audio.setPlayState(q.Play)},s=function(){se(t.value),e.commit.audio.setCurrentTime({value:1e3*t.value.currentTime,source:F.TimeUpdate}),e.commit.audio.setPlayState(q.Stop)},c=function(){se(t.value),e.commit.audio.setDuration(1e3*t.value.duration)},u=function(){se(t.value),e.commit.audio.setCurrentTime({value:1e3*t.value.currentTime,source:F.Seek})},l=Object(o["a"])((function(){return e.state.audio.currentTime}));Object(o["f"])((function(){return Object(o["l"])([l],(function(){if(l.value.source===F.Cursor){var e=t.value;e&&(e.currentTime=l.value.value/1e3)}}),{flush:"sync",immediate:!0})})),Object(o["f"])((function(){return Object(o["l"])([a],(function(){void 0!==a.value&&e.commit.audio.setPlayState(q.Stop)}),{immediate:!0})}));var d=Object(o["a"])((function(){return e.state.audio.playState}));Object(o["f"])((function(){return Object(o["l"])([d],(function(){var a=t.value;if(a)switch(e.commit.audio.setCurrentTime({value:1e3*a.currentTime,source:F.TimeUpdate}),d.value){case q.Play:a.play();break;case q.Pause:a.pause();break;case q.Stop:a.pause(),a.currentTime=0;break;default:console.error("Unknown PlayState",d.value)}}),{flush:"sync",immediate:!0})}));var f=Object(o["a"])((function(){return e.state.audio.playbackRate}));return Object(o["l"])([f],(function(){t.value&&(t.value.playbackRate=f.value)}),{immediate:!0}),Object(o["g"])((function(){var e=t.value;if(e){e.pause(),e.currentTime=0,e.removeAttribute("src");while(e.firstChild)e.removeChild(e.firstChild);e.load()}})),{el:t,onTimeUpdate:n,onPause:r,onPlaying:i,onEnded:s,audioError:a,onDurationChange:c,onSeeked:u}}}),Le=Pe,Se=(a("7d84"),Object(x["a"])(Le,Ee,Re,!1,null,"eff11a22",null)),Ue=Se.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"maintrack-container"},[a("WaveformContainer",{staticClass:"maintrack",attrs:{"item-id":e.itemId}}),a("TrackPluginsContainer",{staticClass:"track-plugins-container"},[a("Region",{model:{value:e.innerSelection,callback:function(t){e.innerSelection=t},expression:"innerSelection"}}),a("InteractivePlayCursor")],1)],1),a("Axis",{attrs:{"first-time":0,"last-time":e.lastTime}})],1)},Me=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{ref:"slotContainer",staticClass:"track-plugins-container",attrs:{width:"100%",height:"100%"}},[a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",stroke:"black","stroke-width":"0",fill:"none"}}),e._t("default")],2)},$e=[],qe=Symbol("track-plugins-container-svg"),Fe=Object(o["c"])({setup:function(){var e=Object(o["j"])();return Object(o["h"])(qe,e),{slotContainer:e}}}),De=Fe,Ne=(a("9b55"),Object(x["a"])(De,ze,$e,!1,null,"259b5cc7",null)),Ve=Ne.exports,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PlayCursor",{attrs:{selection:e.selection}})},Be=[],Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("rect",{ref:"cursor",staticClass:"cursor",attrs:{x:"0",y:"0",width:e.cursorWidth,height:"100%"}})},Xe=[],He=function(){return!!window.document.body.animate},Ge=Object(o["c"])({name:"PlayCursor",props:{selection:{type:Object}},setup:function(e){var t=re(),n=2,r=Object(o["j"])(),i=[{transform:"translateX(0)"},{transform:"translateX(calc(100% - ".concat(n,"px))")}],s=Object(o["a"])((function(){if(e.selection){var a=e.selection,n=a.start,r=a.stop;return{duration:r-n,delay:n,endDelay:t.state.audio.duration-r,iterations:1}}return{duration:t.state.audio.duration,delay:0,endDelay:0,iterations:1,fill:"forwards"}}));function c(e,t){switch(t){case q.Play:e.play();break;case q.Pause:e.pause();break;case q.Stop:e.currentTime=0,e.pause();break;default:console.error("Unknown PlayState",t)}}return Object(o["f"])(Object(_["a"])(regeneratorRuntime.mark((function e(){var n,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(se(r.value),He){e.next=5;break}return console.error("Your browser do not support the Web Animation API. Downloading polyfill.."),e.next=5,a.e("chunk-2d226cba").then(a.t.bind(null,"e9d4",7));case 5:n=r.value.animate(i,s.value),n.pause(),u=Object(o["a"])((function(){return t.state.audio.playState})),Object(o["l"])([u],(function(){n.currentTime=t.state.audio.currentTime.value,c(n,u.value)}),{flush:"sync",immediate:!0}),Object(o["m"])((function(){var e=t.state.audio.currentTime,a=e.value,r=e.source;r===F.Seek&&(n.currentTime=a)})),Object(o["m"])((function(){se(n.effect),n.effect.updateTiming(s.value)})),Object(o["m"])((function(){n.playbackRate=t.state.audio.playbackRate}));case 12:case"end":return e.stop()}}),e)})))),{cursorWidth:n,cursor:r,duration:t.state.audio.duration}}}),Ye=Ge,Ke=(a("9d1e"),Object(x["a"])(Ye,Je,Xe,!1,null,"d03ad332",null)),Qe=Ke.exports;function Ze(){var e=re(),t=le(),a=function(a,n){var r=function(){return n?n.stop-n.start:e.state.audio.duration}(),i=n?n.start:0,o=t.value.width;return o?Math.round(i+a/o*r):(console.warn("positionToTime: unexpected width",o),0)},n=function(a){var n=e.state.audio.duration,r=t.value.width;return n?Math.round(a*r/n):(console.warn("timeToPosition: unexpected duration",n),0)};return{positionToTime:a,timeToPosition:n}}var et,tt=Object(o["c"])({name:"InteractivePlayCursor",components:{PlayCursor:Qe},props:{selection:{type:Object}},setup:function(e){var t=re(),a=le(),n=Ze(),r=n.positionToTime,i=Object(o["e"])(qe);if(!i)throw new Error("InteractivePlayCursor.vue expects to be a child of TrackPluginsContainer.vue");var s,c=function(n){var i=n.clientX,o=n.target;if(!o)throw new Error("target not found: ".concat(o));var s=r(i-a.value.left,e.selection);t.commit.audio.setCurrentTime({value:s,source:F.Cursor})},u=function(e){s=e.clientX},l=function(e){void 0!==s&&(void 0!==s&&s!==e.clientX||(s=void 0,c(e)))};Object(o["f"])((function(){return Object(o["m"])((function(){i.value&&(i.value.removeEventListener("mousedown",u),i.value.removeEventListener("mouseup",l),i.value.addEventListener("mousedown",u),i.value.addEventListener("mouseup",l))}))})),Object(o["g"])((function(){i.value&&(i.value.removeEventListener("mousedown",u),i.value.removeEventListener("mouseup",l))}))}}),at=tt,nt=Object(x["a"])(at,We,Be,!1,null,"70dc60c5",null),rt=nt.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("g",[e.start?a("rect",{staticClass:"delimiter left",attrs:{x:e.start-4,y:"0",height:"100%"},on:{mousedown:function(t){return t.stopPropagation(),e.startResizeLeft(t)}}}):e._e(),e.width?a("rect",{ref:"el",staticClass:"content",attrs:{x:e.start,y:"0",height:"100%",width:e.width},on:{mousedown:function(t){return t.stopPropagation(),e.startMove(t)}}}):e._e(),e.stop?a("rect",{staticClass:"delimiter right",attrs:{x:e.stop,y:"0",height:"100%"},on:{mousedown:function(t){return t.stopPropagation(),e.startResizeRight(t)}}}):e._e(),e.stop&&e.width&&e.width>40?a("svg",{staticClass:"close",attrs:{x:e.stop-40,y:0,width:"40",height:"40",viewBox:"0 0 512 512"},on:{mousedown:function(t){return t.stopPropagation(),e.closeHandler(t)}}},[a("rect",{attrs:{x:"0",y:"0",width:"100%",height:"100%",fill:"transparent"}}),a("g",{attrs:{transform:"scale(0.5) translate(256 256)"}},[a("path",{attrs:{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"}})])]):e._e()])},ot=[];(function(e){e[e["Left"]=0]="Left",e[e["Right"]=1]="Right"})(et||(et={}));var st=Object(o["c"])({name:"Region",props:{value:{type:Object,required:!1}},setup:function(e,t){var a=t.emit,n=Object(o["e"])(qe);if(!n)throw new Error("Region.vue expects to be a child of TrackPluginsContainer.vue");var r=Ze(),i=r.positionToTime,s=r.timeToPosition,c=Object(o["j"])(),u=Object(o["j"])(),l=Object(o["j"])(),d=Object(o["a"])((function(){if(void 0!==u.value&&void 0!==l.value)return l.value-u.value})),f=le(),v=function(e){e&&(u.value=s(e.start),l.value=s(e.stop))};Object(o["l"])((function(){return e.value}),(function(e){return v(e)}),{immediate:!0}),Object(o["l"])(f,(function(){return v(e.value)}),{immediate:!0});var p=function(){if(void 0!==u.value&&void 0!==l.value){var t={start:i(u.value),stop:i(l.value)};void 0!==e.value&&e.value.start===t.start&&e.value.stop===t.stop||a("input",t)}else a("input",void 0)},m=function(){u.value=void 0,l.value=void 0,p()},b=function(e){var t=e.clientX,a=function(e){var a,n=e.clientX;if(n!==t){n>t?a=et.Right:n<t&&(a=et.Left),u.value=t-f.value.left,l.value=t-f.value.left;var r=n-f.value.left;if(a===et.Left)r<0&&(r=0),r>l.value&&(r=l.value),u.value=r;else{if(a!==et.Right)throw new Error("Direction is not set (".concat(a,"). Unexpected."));r>f.value.width&&(r=f.value.width),r<u.value&&(r=u.value),l.value=r}}},n=function e(){p(),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",n)};Object(o["f"])((function(){return Object(o["m"])((function(){n.value&&(n.value.removeEventListener("mousedown",b),n.value.addEventListener("mousedown",b))}))})),Object(o["g"])((function(){n.value&&n.value.removeEventListener("mousedown",b)}));var g=function(){var e=function(e){var t=e.clientX;se(l.value);var a=t-f.value.left;a<0&&(a=0),a>l.value&&(a=l.value),u.value=a},t=function t(){window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",e),p()};window.addEventListener("mouseup",t),window.addEventListener("mousemove",e)},h=function(e){var t=e.clientX;se(c.value);var a=t-c.value.getBoundingClientRect().left,n=function(e){var t=e.clientX;se(d.value);var n=t-a-f.value.left,r=n+d.value;n<=0&&(n=0,r=n+d.value),r>=f.value.width&&(r=f.value.width,n=r-d.value),u.value=n,l.value=r},r=function e(){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",n),p()};window.addEventListener("mouseup",r),window.addEventListener("mousemove",n)},y=function(){var e=function(e){var t=e.clientX;se(u.value);var a=t-f.value.left;a>f.value.width&&(a=f.value.width),a<u.value&&(a=u.value),l.value=a},t=function t(){window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",e),p()};window.addEventListener("mouseup",t),window.addEventListener("mousemove",e)};return{el:c,width:d,start:u,stop:l,startCreate:b,startMove:h,startResizeLeft:g,startResizeRight:y,closeHandler:m}}}),ct=st,ut=(a("200d"),Object(x["a"])(ct,it,ot,!1,null,"927b50e6",null)),lt=ut.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"waveform-container"},[e.isLoading?a("div",{staticClass:"loading"},[e._v(" Loading waveform... ")]):e.error?a("div",{staticClass:"error"},[e._v(" Waveform not available. Please check your browser's network logs. ")]):e.waveform?e.isValid?e.waveform?a("Waveform",{staticClass:"waveform",attrs:{waveform:e.waveform},nativeOn:{mousedown:function(t){return e.$emit("mousedown",t)}}},[e._t("default")],2):a("div",{staticClass:"error"},[e._v(" Waveform not loading: undefined behavior ")]):a("div",{staticClass:"error"},[e._v(" The waveform do not seems valid. Please check your browser's console logs. ")]):a("div",{staticClass:"error"},[e._v(" Waveform not found ")])],1)},ft=[],vt=(a("a9e3"),a("99af"),a("a623"),a("4de4"),a("2909")),pt=a("b85c");function mt(e){var t,a=[],n=Object(pt["a"])(e.time.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r]={time:e.time[r],min:e.min[r],max:e.max[r]}}}catch(c){n.e(c)}finally{n.f()}var i=e.min.concat(e.max),o=Math.max.apply(Math,Object(vt["a"])(i)),s=Math.min.apply(Math,Object(vt["a"])(i));return{data:a,meta:{maxVal:o,minVal:s}}}function bt(e){return e.time.length>0&&e.time.length===e.min.length&&e.min.length===e.max.length}function gt(e){var t=function(e){var t=function(e,t){return Math.abs(e-t)<=1e-4};return e.every((function(a){return t(a,e[0])}))};if(t(e.min))return console.error("Unexpected waveform: waveform.min has constant values",e.min),!1;if(t(e.max))return console.error("Unexpected waveform: waveform.max has constant values",e.max),!1;var a=e.min.filter((function(t,a){return t===e.max[a]}));return a.length>e.min.length/4&&console.error("Unexpected waveform: waveform has too many empty points (min = max)",a),!0}function ht(e){var t=Object(o["j"])(!1),a=Object(o["j"])(),n=Object(o["j"])(),r=Object(o["a"])((function(){if(n.value)return mt(n.value)})),i=Object(o["a"])((function(){return!!n.value&&(bt(n.value)?gt(n.value):(console.error("Unexpected waveform: waveform has invalid length",n.value),!1))})),s=void 0,c=function(){var r=Object(_["a"])(regeneratorRuntime.mark((function r(){var i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s&&s.abort(),t.value=!0,r.prev=2,s=new AbortController,i=Object(g["newAbortableApi"])(s),r.next=7,i.retrieveItemWaveform(e.value);case 7:if(o=r.sent,!s.signal.aborted){r.next=10;break}throw new DOMException("","AbortError");case 10:if(o.waveform){r.next=12;break}throw new Error("waveform is empty");case 12:n.value=o.waveform,a.value=void 0,s=void 0,r.next=22;break;case 17:if(r.prev=17,r.t0=r["catch"](2),!(r.t0 instanceof DOMException&&"AbortError"===r.t0.name)){r.next=21;break}return r.abrupt("return");case 21:a.value=r.t0;case 22:t.value=!1;case 23:case"end":return r.stop()}}),r,null,[[2,17]])})));return function(){return r.apply(this,arguments)}}();return Object(o["f"])((function(){return Object(o["l"])([e],(function(){t.value=!0,c()}),{immediate:!0})})),{isLoading:t,error:a,isValid:i,waveform:r}}var yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("FluidSVG",{staticClass:"waveform",on:{resized:function(t){e.svgSize=t}}},[a("g",{staticClass:"chart-data"},[a("path",{staticClass:"area",attrs:{d:e.path}})])])},xt=[],wt=a("548a"),jt=a("e38c"),kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"el"},[a("svg",{staticClass:"fluid-svg",attrs:{height:e.svgSize.height,width:e.svgSize.width,viewBox:"0 0 "+e.svgSize.width+" "+e.svgSize.height}},[e._t("default")],2)])},Ot=[],_t=Object(o["c"])({setup:function(e,t){var a=t.emit,n=Object(o["j"])(),r=fe(n);return Object(o["m"])((function(){a("resized",r.value)})),{el:n,svgSize:r}}}),Tt=_t,Ct=(a("eaa9"),Object(x["a"])(Tt,kt,Ot,!1,null,"b0a85f18",null)),At=Ct.exports,Et=Object(o["c"])({name:"Waveform",props:{waveform:{type:Object,required:!0}},components:{FluidSVG:At},setup:function(e){var t=e.waveform,a=Object(o["j"])(),n=Object(o["a"])((function(){var e=a.value?a.value.height:0,n=a.value?a.value.width:0;if(0===e)return"";var r=t.data[0],i=t.data[t.data.length-1],o=Object(wt["a"])().domain([r.time,i.time]).range([0,n]),s=Object(wt["a"])().domain([t.meta.minVal,t.meta.maxVal]).range([e,-e]),c=function(t){return e-s(t)/2-e/2},u=Object(jt["a"])().x((function(e){return o(e.time)})).y0((function(e){return c(e.min)})).y1((function(e){return c(e.max)}));return u(t.data)}));return{svgSize:a,path:n}}}),Rt=Et,Pt=(a("8ebb"),Object(x["a"])(Rt,yt,xt,!1,null,"934e9454",null)),Lt=Pt.exports,St=Object(o["c"])({name:"WaveformContainer",props:{itemId:{type:String,required:!0},start:{type:Number,required:!1},stop:{type:Number,required:!1},nbPixels:{type:Number,required:!1}},components:{Waveform:Lt},setup:function(e){var t=ht(Object(o["a"])((function(){return{uuid:e.itemId,start:e.start?e.start/1e3:void 0,stop:e.stop?e.stop/1e3:void 0,nbPixels:e.nbPixels}}))),a=t.isLoading,n=t.error,r=t.isValid,i=t.waveform;return Object(o["l"])([n],(function(){void 0!==n.value&&console.error("Unable to get waveform: ",n.value)}),{immediate:!0}),{isLoading:a,error:n,waveform:i,isValid:r}}}),Ut=St,It=(a("4f6e"),Object(x["a"])(Ut,dt,ft,!1,null,"80bce112",null)),Mt=It.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("FluidSVG",{staticClass:"x-axis-container",on:{resized:function(t){e.svgSize=t}}},[a("g",{ref:"group"})])},$t=[],qt=a("00a5"),Ft=a("4611"),Dt=Object(o["c"])({props:{firstTime:{type:Number,required:!0},lastTime:{type:Number,required:!0}},components:{FluidSVG:At},setup:function(e){var t=Object(o["j"])(),a=Object(o["j"])(),n=Object(o["a"])((function(){var a=t.value?t.value.width:0,n=e.firstTime/1e3,r=e.lastTime/1e3;return Object(wt["a"])().domain([n,r]).range([0,a])}));return Object(o["f"])((function(){return Object(o["m"])((function(){se(a.value);var e=Object(qt["a"])(a.value),t=Object(Ft["a"])(n.value).tickFormat(Oe);e.call(t)}))})),{group:a,svgSize:t}}}),Nt=Dt,Vt=(a("7d89"),Object(x["a"])(Nt,zt,$t,!1,null,"2ccf9b31",null)),Wt=Vt.exports,Bt=Object(o["c"])({props:{itemId:{type:String,required:!0},selection:{type:Object,required:!1}},components:{WaveformContainer:Mt,TrackPluginsContainer:Ve,InteractivePlayCursor:rt,Region:lt,Axis:Wt},setup:function(e,t){var a=t.emit,n=re(),r=Object(o["j"])();return Object(o["l"])([function(){return e.selection}],(function(){r.value=e.selection}),{immediate:!0}),Object(o["l"])([r],(function(){a("selection",r.value)}),{immediate:!0}),{innerSelection:r,lastTime:Object(o["a"])((function(){return n.state.audio.duration}))}}}),Jt=Bt,Xt=(a("2f9f"),Object(x["a"])(Jt,Ie,Me,!1,null,"63c7975e",null)),Ht=Xt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selection-tracks"},[e.analysisTracks.loading?a("div",{staticClass:"loading"},[e._v(" Loading... ")]):e.analysisTracks.error?a("div",{staticClass:"error"},[e._v(" An error occured getting analysis tracks: "+e._s(e.formatResponseError(e.analysisTracks.error))+" ")]):e.analysisTracks?a("div",{staticClass:"tracks"},[a("div",{staticClass:"track-list"},[a("div",[e._m(0),a("WaveformContainer",{staticClass:"waveform-zoom",attrs:{"item-id":e.itemId,start:e.selection?e.selection.start:void 0,stop:e.selection?e.selection.stop:void 0,"nb-pixels":2048}})],1),a("transition-group",{attrs:{name:"animate-track",tag:"div"},on:{enter:e.newTrack}},e._l(e.analysisTracks.analysisTracks,(function(t){return a("AnalysisTrack",{key:t.uuid,staticClass:"analysis-track",attrs:{start:e.selection?e.selection.start:void 0,stop:e.selection?e.selection.stop:void 0,"analysis-track":t},on:{deleted:function(t){return e.analysisTracks.remove(t)}}})})),1)],1),a("TrackPluginsContainer",[a("InteractivePlayCursor",{attrs:{selection:e.selection}})],1)],1):a("div",[e._v(" Unexpected behavior: analysisTracks is undefined and no API error ")]),a("Axis",{attrs:{"first-time":e.selection?e.selection.start:0,"last-time":e.selection?e.selection.stop:e.lastTime}})],1)},Yt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info-box"},[a("p",{staticClass:"info-type"},[e._v(" Waveform ")])])}],Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"analysis-track"},[a("div",{staticClass:"info-box",attrs:{title:e.analysis?e.analysis.uuid:void 0}},[e.loadingAnalysis?a("div",[e._v(" Loading analysis... ")]):e.errorAnalysis?a("div",[e._v(" Error retrieving analysis: "+e._s(e.errorAnalysis)+" ")]):e.analysis?a("div",[a("p",{staticClass:"info-type"},[e._v(" Analysis Track ")]),a("p",{staticClass:"info-title"},[e._v(" "+e._s(e.analysis.title)+" ")])]):a("div",[e._v(" Unexpected behavior ")]),a("button",{staticClass:"delete",on:{click:e.deleteAt}},[e._v(" "+e._s(e.loadingDelete?"Loading...":"Delete")+" ")])]),e.loadingResult||e.loadingAnalysis?a("div",[e._v(" Loading result... ")]):e.errorResult?a("div",[e._v(" Error retrieving result: "+e._s(e.errorResult)+" ")]):e.errorAnalysis?a("div",[e._v(" Error retrieving analysis: "+e._s(e.errorAnalysis)+" ")]):e.result&&e.analysis?[e.analysis.renderType===e.AnalysisRenderTypeEnum.NUMBER_0?[a("HDF5Visualization",{attrs:{"result-uuid":e.result.uuid,start:e.start,stop:e.stop}})]:e.analysis.renderType===e.AnalysisRenderTypeEnum.NUMBER_1?[a("BitmapVisualization",{attrs:{"result-uuid":e.result.uuid,start:e.start,stop:e.stop}})]:a("div",[e._v(' Unknwon type of visualization (mimeType: "'+e._s(e.result.mimeType)+'", hdf5: "'+e._s(e.result.hdf5)+'") ')])]:a("div",[e._v(" Unexpected behavior (result undefined) ")])],2)},Qt=[],Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("div",[e._v(" Loading... ")]):e.error?a("div",{staticClass:"error"},[e._v(" Unable to retrieve HDF5 : "+e._s(e.formatResponseError(e.error))+" ")]):a("div",{staticClass:"hdf5-visualization"},["framewise"===e.hdf5.time_mode?[a("FramewiseVisualization",{attrs:{hdf5:e.hdf5,start:e.start,stop:e.stop}})]:"timewise"===e.hdf5.time_mode?[a("div",[e._v("time_mode === 'timewise' is not implemented")])]:a("div",[e._v(" Unknown time_mode : "+e._s(e.hdf5.time_mode)+" ")])],2)},ea=[],ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("FluidSVG",{staticClass:"framewise-visualization",on:{resized:function(t){e.svgSize=t}}},[a("g",{staticClass:"chart-data"},[a("path",{staticClass:"line",attrs:{d:e.path}})])])},aa=[],na=(a("d81d"),a("fae8")),ra=a("a84d"),ia=Object(o["c"])({props:{hdf5:{type:Object,required:!0},start:{type:Number,required:!1},stop:{type:Number,required:!1}},components:{FluidSVG:At},setup:function(e){var t=Object(o["j"])(),a=Object(o["a"])((function(){return e.hdf5.audio_metadata.duration})),n=Object(o["a"])((function(){return e.hdf5.data_object.frame_metadata.samplerate})),r=Object(o["a"])((function(){return e.hdf5.data_object.frame_metadata.stepsize})),i=Object(o["a"])((function(){return e.start||0})),s=Object(o["a"])((function(){return e.stop||1e3*a.value})),c=Object(o["a"])((function(){return e.hdf5.data_object.value.numpyArray.map((function(e,t){var a=t*r.value/n.value*1e3;return[a,e]}))})),u=Object(o["a"])((function(){var e=c.value.filter((function(e){return e[0]>i.value&&e[0]<s.value})),t=e.map((function(e){return e[1]}));return Math.max.apply(Math,Object(vt["a"])(t))})),l=Object(o["a"])((function(){var e=t.value?t.value.width:0,a=t.value?t.value.height:0,n=Object(wt["a"])().domain([i.value,s.value]).range([0,e]),r=Object(wt["a"])().domain([0,u.value]).range([a,0]),o=Object(na["a"])().curve(ra["a"]).x((function(e){return n(e[0])})).y((function(e){return r(e[1])})),l=c.value;return o(l)}));return{svgSize:t,path:l}}}),oa=ia,sa=(a("f2e3"),Object(x["a"])(oa,ta,aa,!1,null,"7149ecdb",null)),ca=sa.exports;function ua(e){return e instanceof Response?"Invalid response from the API: ".concat(e.statusText," (").concat(e.status,")"):(console.error("unknwown error: ",e),"Unknown error from the API. Please check the console and network logs of your browser.")}var la=Object(o["c"])({props:{resultUuid:{type:String,required:!0},start:{type:Number,required:!1},stop:{type:Number,required:!1}},components:{FramewiseVisualization:ca},setup:function(e){var t=Object(o["j"])(!0),a=Object(o["j"])(),n=Object(o["j"])();return Object(o["f"])((function(){return Object(o["l"])((function(){return e.resultUuid}),(function(){Object(_["a"])(regeneratorRuntime.mark((function r(){var i,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.value=!0,r.prev=1,i="".concat(g["basePath"],"/timeside/results/").concat(e.resultUuid,"/json/"),r.next=5,fetch(i);case 5:if(o=r.sent,o.ok){r.next=8;break}throw o;case 8:return r.next=10,o.json();case 10:if(s=r.sent,0!==s.length){r.next=13;break}throw new Error("result sent an empty array");case 13:n.value=s[0],r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](1),a.value=r.t0;case 19:t.value=!1;case 20:case"end":return r.stop()}}),r,null,[[1,16]])})))()}),{immediate:!0})})),{formatResponseError:ua,loading:t,error:a,hdf5:n}}}),da=la,fa=(a("876a"),Object(x["a"])(da,Zt,ea,!1,null,"178c741e",null)),va=fa.exports,pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"container",staticClass:"bitmap-visualization"},[e.loading?a("p",[e._v(" Loading... ")]):e.error?a("p",{staticClass:"error"},[e._v(" Error while retrieving Visual: "+e._s(e.formatResponseError(e.error))+" ")]):a("img",{staticClass:"png-visualization",attrs:{src:e.imageSrc,alt:""}})])},ma=[],ba=Object(o["c"])({props:{resultUuid:{type:String,required:!0},start:{type:Number,required:!1},stop:{type:Number,required:!1}},setup:function(e){var t,a=Object(o["j"])(),n=fe(a),r=Object(o["j"])(!0),i=Object(o["j"])(),s=re(),c=Object(o["j"])(""),u=Object(o["a"])((function(){return e.start||0})),l=Object(o["a"])((function(){return e.stop||s.state.audio.duration})),d=function(){var a=Object(_["a"])(regeneratorRuntime.mark((function a(){var o,s,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&t.abort(),a.prev=1,t=new AbortController,o=Object(g["newAbortableApi"])(t),a.next=6,o.retrieveResultVisualizationRaw({uuid:e.resultUuid,start:u.value/1e3,stop:l.value/1e3,width:n.value.width||500,height:n.value.height||300});case 6:return s=a.sent,a.next=9,s.raw.blob();case 9:d=a.sent,c.value=URL.createObjectURL(d),r.value=!1,a.next=20;break;case 14:if(a.prev=14,a.t0=a["catch"](1),!(a.t0 instanceof DOMException&&"AbortError"===a.t0.name)){a.next=18;break}return a.abrupt("return");case 18:console.error("retrieveResultVisualization failed",a.t0),i.value=a.t0;case 20:case"end":return a.stop()}}),a,null,[[1,14]])})));return function(){return a.apply(this,arguments)}}(),f=Object(o["a"])((function(){return Object(vt["a"])(Object.values(Object(o["k"])(e)))}));return Object(o["f"])((function(){Object(o["l"])(f,(function(){r.value=!0,d()}),{immediate:!0})})),Object(o["f"])((function(){Object(o["l"])(n,(function(){d()}),{immediate:!0})})),{container:a,error:i,loading:r,imageSrc:c,formatResponseError:ua}}}),ga=ba,ha=(a("5da9"),Object(x["a"])(ga,pa,ma,!1,null,"72d37cc8",null)),ya=ha.exports;function xa(e){return new Promise((function(t){return setTimeout(t,e)}))}function wa(e,t,a){return ja.apply(this,arguments)}function ja(){return ja=Object(_["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.uuid){e.next=2;break}throw new Error("Analysis has empty UUID: ".concat(t));case 2:r=t;case 3:if("Task running"!==r.resultUrl){e.next=13;break}return e.next=6,xa(5e3);case 6:if(!n.signal.aborted){e.next=8;break}throw new DOMException("Aborted","AbortError");case 8:return e.next=10,a.retrieveAnalysisTrack({uuid:t.uuid});case 10:r=e.sent,e.next=3;break;case 13:if(r.resultUrl){e.next=15;break}throw new Error("AnalysisTrack has no resultUrl: ".concat(r));case 15:e.prev=15,i=Object(g["getUuidFromResultUrl"])(r.resultUrl),e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](15),!(e.t0 instanceof Error)){e.next=25;break}throw new Error("Unable to get UUID for analysisTrack.result_url (".concat(e.t0.message,") ")+JSON.stringify(t));case 25:throw e.t0;case 26:return e.next=28,a.retrieveResult({uuid:i});case 28:return e.abrupt("return",e.sent);case 29:case"end":return e.stop()}}),e,null,[[15,19]])}))),ja.apply(this,arguments)}function ka(e){var t=Object(o["j"])(void 0),a=Object(o["j"])(void 0),n=Object(o["j"])(!0),r=void 0;function i(){return s.apply(this,arguments)}function s(){return s=Object(_["a"])(regeneratorRuntime.mark((function i(){var o,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n.value=!0,a.value=void 0,r&&r.abort(),i.prev=3,r=new AbortController,o=Object(g["newAbortableApi"])(r),i.next=8,wa(e.value,o,r);case 8:s=i.sent,t.value=s,i.next=17;break;case 12:if(i.prev=12,i.t0=i["catch"](3),!(i.t0 instanceof DOMException&&"AbortError"===i.t0.name)){i.next=16;break}return i.abrupt("return");case 16:a.value=i.t0;case 17:n.value=!1;case 18:case"end":return i.stop()}}),i,null,[[3,12]])}))),s.apply(this,arguments)}return Object(o["f"])((function(){Object(o["l"])(e,(function(){i()}),{immediate:!0})})),{result:t,loading:n,error:a}}var Oa,_a=Object(o["c"])({components:{HDF5Visualization:va,BitmapVisualization:ya},props:{analysisTrack:{type:Object,required:!0},start:{type:Number,required:!1},stop:{type:Number,required:!1}},setup:function(e,t){var a=t.emit,n=Object(o["a"])((function(){return e.analysisTrack})),r=ka(n),i=r.loading,s=r.result,c=r.error,u=Object(o["j"])(!1);function l(){return d.apply(this,arguments)}function d(){return d=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.value=!0,t=n.value.uuid,t){e.next=4;break}throw new Error("Unable to delete AnalysisTrack: no uuid");case 4:return e.next=6,g["default"].destroyAnalysisTrack({uuid:t});case 6:a("deleted",t),u.value=!1;case 8:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var f=Object(o["j"])(!1),v=Object(o["j"])(),p=Object(o["j"])();return Object(o["f"])((function(){return Object(o["l"])(n,(function(){Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.value=!0,v.value=void 0,e.prev=2,t=Object(g["getUuidFromAnalysisUrl"])(n.value.analysis),e.next=6,g["default"].retrieveAnalysis({uuid:t});case 6:p.value=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),v.value=e.t0;case 12:f.value=!1;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),{immediate:!0})})),{result:s,loadingResult:i,errorResult:c,deleteAt:l,loadingDelete:u,analysis:p,loadingAnalysis:f,errorAnalysis:v,AnalysisRenderTypeEnum:g["AnalysisRenderTypeEnum"]}}}),Ta=_a,Ca=(a("9ffc"),Object(x["a"])(Ta,Kt,Qt,!1,null,"fd6dfcb0",null)),Aa=Ca.exports,Ea=Object(o["c"])({name:"AnalysisTracks",props:{itemId:{type:String,required:!0},analysisTracks:{type:Object,required:!0},selection:{type:Object}},components:{TrackPluginsContainer:Ve,WaveformContainer:Mt,Axis:Wt,InteractivePlayCursor:rt,AnalysisTrack:Aa},setup:function(){var e=re();function t(e){e.scrollIntoView({behavior:"smooth",block:"center"})}return{formatResponseError:ua,lastTime:Object(o["a"])((function(){return e.state.audio.duration})),newTrack:t}}}),Ra=Ea,Pa=(a("a3a7"),Object(x["a"])(Ra,Gt,Yt,!1,null,"0dbeb682",null)),La=Pa.exports,Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.annotationTracks.loading?a("div",[e._v(" Loading... ")]):e.annotationTracks.error?a("div",{staticClass:"error"},[e._v(" Error: "+e._s(e.formatResponseError(e.annotationTracks.error))+" ")]):e.annotationTracks?a("div",{staticClass:"annotation-tracks"},[a("transition-group",{attrs:{name:"animate-track",tag:"div"},on:{enter:e.newTrack}},e._l(e.annotationTracks.annotationTracks,(function(t){return a("AnnotationTrack",{key:t.uuid,ref:"annotationTrackRefs",refInFor:!0,staticClass:"annotation-track",attrs:{"annotation-track":t},on:{destroy:function(t){return e.annotationTracks.remove(t)}}})})),1)],1):a("div",[e._v(" Undefined behavior ")])])},Ua=[],Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"annotation-track-container"},[a("div",{staticClass:"annotation-track"},[a("div",{staticClass:"info-box"},[a("div",{staticClass:"info-type"},[e._v(" Annotation Track ")]),a("div",{staticClass:"info-title"},[e._v(" "+e._s(e.annotationTrack.title)+" "),e.annotationTrack.description?a("span",[e._v("- "+e._s(e.annotationTrack.description))]):e._e()]),e.annotationTrack.author?a("p",{staticClass:"author",attrs:{title:"author"}},[e._v(" Made by "+e._s(e.annotationTrack.author)+" ")]):e._e(),a("p",{staticClass:"is-public",attrs:{title:"visibility"}},[e.annotationTrack.isPublic?[a("svg",{staticClass:"visibility-icon",attrs:{"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[a("path",{attrs:{d:"M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"}})]),a("span",[e._v("Public")])]:[a("svg",{staticClass:"visibility-icon",attrs:{focusable:"false","aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[a("path",{attrs:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}})]),a("span",[e._v("Private")])]],2),a("button",{staticClass:"delete",on:{click:e.destroy}},[e._v(" "+e._s(e.loadingDestroy?"Loading...":"Delete")+" ")])]),a("Annotations",{attrs:{"track-id":e.annotationTrack.uuid,annotations:e.annotations,selection:e.selection},on:{"select-annotation":function(t){e.selectedAnnotation=t}}})],1),e.selectedAnnotation?a("div",{staticClass:"annotation-detail"},[a("table",{staticClass:"detail-table"},[a("tbody",[a("tr",[a("th",[e._v("Title:")]),a("td",[e._v(e._s(e.selectedAnnotation.title))])]),a("tr",[a("th",[e._v("Description: ")]),a("td",[e._v(e._s(e.selectedAnnotation.description))])]),a("tr",[a("th",[e._v("Start time: ")]),a("td",[e._v(e._s(e.selectedAnnotation.startTime))])]),a("tr",[a("th",[e._v("Stop time:")]),a("td",[e._v(e._s(e.selectedAnnotation.stopTime))])])])]),a("div",{staticClass:"btn-list"},[a("button",{staticClass:"btn grey-btn",on:{click:function(t){e.selectedAnnotation=void 0}}},[e._v(" Cancel ")]),a("button",{staticClass:"btn red-btn",attrs:{disabled:e.loadingDestroyAnnotation},on:{click:e.destroySelectedAnnotation}},[e._v(" "+e._s(e.loadingDestroyAnnotation?"Loading...":"Delete")+" ")])]),e.errorDestroyAnnotation?a("div",{staticClass:"error"},[e._v(" An error occured while deleting annotation: "+e._s(e.formatResponseError(e.errorDestroyAnnotation))+" ")]):e._e()]):e._e()])},Ma=[],za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"annotations"},[a("CreateAnnotation",{attrs:{"track-id":e.trackId},on:{"new-annotation":function(t){return e.annotations.add(t)}}}),e.annotations?e._l(e.annotations.annotations,(function(t){return a("Annotation",{key:t.uuid,staticClass:"annotation",attrs:{annotation:t},on:{destroy:function(t){return e.annotations.remove(t)}},nativeOn:{click:function(a){return e.$emit("select-annotation",t)}}})})):e._e()],2)},$a=[],qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"annotation",style:e.style,attrs:{title:e.annotation.uuid}},[a("div",{staticClass:"title-box"},[a("p",{staticClass:"title"},[e._v(" "+e._s(e.annotation.title)+" ")]),e.annotation.description?a("p",{staticClass:"description"},[e._v(" "+e._s(e.annotation.description)+" ")]):e._e()])])},Fa=[],Da=Object(o["c"])({props:{annotation:{type:Object,required:!0}},setup:function(e){var t=Ze(),a=t.timeToPosition,n=Object(o["a"])((function(){var t=a(1e3*(e.annotation.startTime||0)),n=a(1e3*e.annotation.stopTime);function r(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return t}function i(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}function o(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}var s={left:"".concat(t,"px"),width:"".concat(n-t,"px")};if(e.annotation.title){var c=i(r(e.annotation.title)),u=o(c);u&&(s.backgroundColor="rgba(".concat(u.r,", ").concat(u.g,", ").concat(u.b,", 1)"))}return s}));return{style:n}}}),Na=Da,Va=(a("db5f"),Object(x["a"])(Na,qa,Fa,!1,null,"6049afbe",null)),Wa=Va.exports,Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{ref:"formEl",staticClass:"create-annotation",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("p",[e._v("Add an anotation")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],attrs:{placeholder:"Title",name:"title",type:"text",required:""},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],attrs:{placeholder:"Description",name:"description",type:"text",required:""},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.startTime,expression:"form.startTime"}],attrs:{name:"start-time",type:"number",placeholder:"Start (seconds)",required:""},domProps:{value:e.form.startTime},on:{input:function(t){t.target.composing||e.$set(e.form,"startTime",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.stopTime,expression:"form.stopTime"}],attrs:{name:"stop-time",type:"number",placeholder:"Stop (seconds)",required:""},domProps:{value:e.form.stopTime},on:{input:function(t){t.target.composing||e.$set(e.form,"stopTime",t.target.value)}}}),a("button",{attrs:{disabled:e.loading}},[e._v(" "+e._s(e.loading?"Loading...":"Add")+" ")]),e.error?a("div",{staticClass:"error"},[e._v(" Error: "+e._s(e.error)+" ")]):e._e()])},Ja=[],Xa=Object(o["c"])({props:{trackId:{type:String,required:!0}},setup:function(e,t){var a=t.emit,n=Object(o["j"])(),r=f(),i=function(){return{title:"",description:"",startTime:0,stopTime:0}},s=Object(o["j"])(i()),c=Object(o["j"])(!1),u=Object(o["j"])();function l(){return d.apply(this,arguments)}function d(){return d=Object(_["a"])(regeneratorRuntime.mark((function t(){var o,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=Object(g["getAnnotationTrackUrl"])(g["basePath"],e.trackId),c=Object(ve["a"])({track:o},s.value),t.prev=2,t.next=5,g["default"].createAnnotation({annotation:c});case 5:d=t.sent,r.success("Annotation added !"),s.value=i(),null===(l=n.value)||void 0===l||l.reset(),a("new-annotation",d),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),u.value=t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,12]])}))),d.apply(this,arguments)}return{form:s,formEl:n,submit:l,error:u,loading:c}}}),Ha=Xa,Ga=(a("4595"),Object(x["a"])(Ha,Ba,Ja,!1,null,"ab66473a",null)),Ya=Ga.exports,Ka=Object(o["c"])({props:{trackId:{type:String,required:!0},annotations:{type:Object,required:!0},selection:{type:Object}},components:{CreateAnnotation:Ya,Annotation:Wa},setup:function(e){var t=Object(o["a"])((function(){return e.selection,e.annotations}));return{filteredAnnotations:t}}}),Qa=Ka,Za=(a("9dcd"),Object(x["a"])(Qa,za,$a,!1,null,"683d86b4",null)),en=Za.exports,tn=function(e){var t=Object(o["j"])(),a=Object(o["j"])(!1),n=Object(o["j"])();function r(){return i.apply(this,arguments)}function i(){return i=Object(_["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.value=!0,r.prev=1,r.next=4,g["default"].listAnnotations({trackUuid:e.value});case 4:t.value=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),n.value=r.t0;case 10:a.value=!1;case 11:case"end":return r.stop()}}),r,null,[[1,7]])}))),i.apply(this,arguments)}function s(e){t.value=t.value||[],t.value.push(e)}function c(e){t.value&&(t.value=t.value.filter((function(t){return t.uuid!==e})))}return Object(o["f"])((function(){return Object(o["l"])(e,Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),{immediate:!0})})),{annotations:t,fetch:r,loadingFetch:a,errorFetch:n,add:s,remove:c}},an=Object(o["c"])({props:{annotationTrack:{type:Object,required:!0},selection:{type:Object}},components:{Annotations:en},setup:function(e,t){var a=t.emit,n=Object(o["j"])(!1),r=Object(o["j"])(),i=Object(o["j"])();function s(){return c.apply(this,arguments)}function c(){return c=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.annotationTrack.uuid){t.next=2;break}throw new Error("Unexpected props.annotation.uuid: ".concat(e.annotationTrack.uuid));case 2:return n.value=!0,t.prev=3,t.next=6,g["default"].destroyAnnotationTrack({uuid:e.annotationTrack.uuid});case 6:a("destroy",e.annotationTrack.uuid),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),r.value=t.t0;case 12:n.value=!1;case 13:case"end":return t.stop()}}),t,null,[[3,9]])}))),c.apply(this,arguments)}var u=tn(Object(o["a"])((function(){return e.annotationTrack.uuid||""}))),l=Object(o["j"])(!1),d=Object(o["j"])();function f(){return v.apply(this,arguments)}function v(){return v=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.value&&i.value.uuid){e.next=2;break}throw new Error("unexpected empty selectedAnnotation");case 2:return t=i.value.uuid,l.value=!0,d.value=void 0,e.prev=5,e.next=8,g["default"].destroyAnnotation({uuid:t});case 8:u.remove(t),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),d.value=e.t0;case 14:l.value=!1,i.value=void 0;case 16:case"end":return e.stop()}}),e,null,[[5,11]])}))),v.apply(this,arguments)}return{destroy:s,loadingDestroy:n,errorDestroy:r,selectedAnnotation:i,annotations:u,formatResponseError:ua,destroySelectedAnnotation:f,loadingDestroyAnnotation:l,errorDestroyAnnotation:d}}}),nn=an,rn=(a("88eb"),Object(x["a"])(nn,Ia,Ma,!1,null,"275ebfa0",null)),on=rn.exports,sn=Object(o["c"])({props:{annotationTracks:{type:Object,required:!0}},components:{AnnotationTrack:on},setup:function(){function e(e){e.scrollIntoView({behavior:"smooth",block:"center"})}return{formatResponseError:ua,newTrack:e}}}),cn=sn,un=(a("0ed0"),Object(x["a"])(cn,Sa,Ua,!1,null,"371e32bd",null)),ln=un.exports,dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"form-title"},[e._v(" Add an analysis track ")]),e.analysisError?a("div",[e._v(" "+e._s(e.analysisError)+" ")]):a("form",{staticClass:"generic-form",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"field select-wrapper"},[a("select",{attrs:{id:"analysis",required:""},on:{input:function(t){e.selectedAnalysisId=t.target.value}}},[e.analysisLoading?a("option",{attrs:{selected:"",disabled:"",value:"loading"}},[e._v(" Loading... ")]):e._e(),e.analysis?[a("option",{attrs:{selected:"",disabled:""}},[e._v(" Analysis type ")]),e._l(e.analysis,(function(t){return a("option",{key:t.uuid,domProps:{value:t.uuid}},[t.description?[e._v(" "+e._s(t.title)+" ("+e._s(t.description)+") ")]:[e._v(" "+e._s(t.title)+" ")]],2)}))]:[e._v(" Unexpected: analysis undefined but analysisLoading = false ")]],2)]),a("div",[a("button",{staticClass:"btn green-btn",attrs:{type:"submit"}},[e.submitLoading?[e._v(" Loading... ")]:[e._v(" Add ")]],2),e.submitError?a("div",{staticClass:"error"},[e._v(" An error occured while adding analysis track: "+e._s(e.formatResponseError(e.submitError))+" ")]):e._e(),a("button",{staticClass:"btn grey-btn",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")])])])])},fn=[],vn=Object(o["c"])({props:{itemId:{type:String,required:!0}},setup:function(e,t){var a=t.emit,n=f(),r=Object(o["j"])(),i=Object(o["j"])(!0),s=Object(o["j"])(),c=Object(o["j"])();Object(o["f"])(Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g["default"].listAnalysis();case 3:t=e.sent,r.value=t,i.value=!1,c.value=void 0,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),e.t0 instanceof Response?c.value=e.t0:console.error("Unknown error occured",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))));var u=Object(o["a"])((function(){if(r.value&&s.value)return r.value.find((function(e){return e.uuid===s.value}))})),l=Object(o["j"])(!1),d=Object(o["j"])();function v(){return p.apply(this,arguments)}function p(){return p=Object(_["a"])(regeneratorRuntime.mark((function t(){var r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s.value){t.next=2;break}throw new Error("unexpected submit: no selectedAnalysisId");case 2:return r={item:Object(g["getItemUrl"])(g["basePath"],e.itemId),analysis:Object(g["getAnalysisUrl"])(g["basePath"],s.value)},l.value=!0,t.prev=4,t.next=7,g["default"].createAnalysisTrack({analysisTrack:r});case 7:if(o=t.sent,u.value){t.next=10;break}throw new Error("unexpected empty selectedAnalysis");case 10:n.success('Analysis track "'.concat(null===(i=u.value.title)||void 0===i?void 0:i.toLowerCase(),'" added')),a("new-analysis-track",o),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),d.value=t.t0;case 17:l.value=!1;case 18:case"end":return t.stop()}}),t,null,[[4,14]])}))),p.apply(this,arguments)}return{analysis:r,analysisLoading:i,selectedAnalysisId:s,analysisError:c,formatResponseError:ua,submitLoading:l,submitError:d,submit:v}}}),pn=vn,mn=(a("6600"),Object(x["a"])(pn,dn,fn,!1,null,"91eb1928",null)),bn=mn.exports,gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{ref:"formEl",staticClass:"create-annotation-track generic-form",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("p",{staticClass:"form-title"},[e._v(" Add an annotation track ")]),a("div",{staticClass:"field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],attrs:{placeholder:"Title",name:"title",type:"text",required:""},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}})]),a("div",{staticClass:"field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],attrs:{placeholder:"Description",name:"description",type:"text",required:""},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),a("div",{staticClass:"field left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.isPublic,expression:"form.isPublic"}],attrs:{id:"is-public",type:"checkbox",name:"isPublic"},domProps:{checked:Array.isArray(e.form.isPublic)?e._i(e.form.isPublic,null)>-1:e.form.isPublic},on:{change:function(t){var a=e.form.isPublic,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=e._i(a,i);n.checked?o<0&&e.$set(e.form,"isPublic",a.concat([i])):o>-1&&e.$set(e.form,"isPublic",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(e.form,"isPublic",r)}}}),a("label",{attrs:{for:"is-public"}},[e._v("Make annotation public")])]),a("button",{staticClass:"btn green-btn",attrs:{disabled:e.loading}},[e._v(" "+e._s(e.loading?"Loading...":"Add")+" ")]),a("button",{staticClass:"btn grey-btn",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),e.error?a("div",{staticClass:"error"},[e._v(" Error: "+e._s(e.error)+" ")]):e._e()])},hn=[],yn=Object(o["c"])({props:{itemId:{type:String,required:!0}},setup:function(e,t){var a=t.emit,n=Object(o["j"])(),r=f(),i=function(){return{title:"",description:"",isPublic:!1}},s=Object(o["j"])(i()),c=Object(o["j"])(!1),u=Object(o["j"])();function l(){return d.apply(this,arguments)}function d(){return d=Object(_["a"])(regeneratorRuntime.mark((function t(){var o,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=Object(g["getItemUrl"])(g["basePath"],e.itemId),c=Object(ve["a"])({item:o},s.value),t.prev=2,t.next=5,g["default"].createAnnotationTrack({annotationTrack:c});case 5:d=t.sent,r.success("AnnotationTrack added !"),s.value=i(),null===(l=n.value)||void 0===l||l.reset(),a("new-annotation-track",d),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),u.value=t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,12]])}))),d.apply(this,arguments)}return{form:s,formEl:n,submit:l,error:u,loading:c}}}),xn=yn,wn=(a("0945"),Object(x["a"])(xn,gn,hn,!1,null,"769e2346",null)),jn=wn.exports,kn=function(e){var t=Object(o["j"])(),a=Object(o["j"])(!1),n=Object(o["j"])();function r(){return i.apply(this,arguments)}function i(){return i=Object(_["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.value=!0,r.prev=1,r.next=4,g["default"].listAnalysisTracks({itemUuid:e.value});case 4:t.value=r.sent.reverse(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),n.value=r.t0;case 10:a.value=!1;case 11:case"end":return r.stop()}}),r,null,[[1,7]])}))),i.apply(this,arguments)}function s(e){t.value=t.value||[],t.value.unshift(e)}function c(e){t.value&&(t.value=t.value.filter((function(t){return t.uuid!==e})))}return Object(o["f"])((function(){return Object(o["l"])(e,Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),{immediate:!0})})),Object(o["i"])({analysisTracks:t,loading:a,error:n,add:s,remove:c})},On=function(e){var t=Object(o["j"])(),a=Object(o["j"])(!1),n=Object(o["j"])();function r(){return i.apply(this,arguments)}function i(){return i=Object(_["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.value=!0,r.prev=1,r.next=4,g["default"].listAnnotationTracks({itemUuid:e.value});case 4:t.value=r.sent.reverse(),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),n.value=r.t0;case 10:a.value=!1;case 11:case"end":return r.stop()}}),r,null,[[1,7]])}))),i.apply(this,arguments)}function s(e){t.value=t.value||[],t.value.unshift(e)}function c(e){t.value&&(t.value=t.value.filter((function(t){return t.uuid!==e})))}return Object(o["f"])((function(){return Object(o["l"])(e,Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)}))),{immediate:!0})})),Object(o["i"])({annotationTracks:t,loading:a,error:n,add:s,remove:c})};(function(e){e[e["Info"]=0]="Info",e[e["Analysis"]=1]="Analysis"})(Oa||(Oa={}));var _n=Object(o["c"])({name:"Player",props:{item:{type:Object,required:!0}},components:{Audio:Ue,Timer:Ae,MainTrack:Ht,AnalysisTracks:La,Controls:we,AnnotationTracks:ln,CreateAnalysisTrack:bn,CreateAnnotationTrack:jn},setup:function(e){se(e.item.uuid);var t=re(),a=Object(o["j"])(),n=Object(o["j"])(),r=fe(n);ue(r);var i=Object(o["a"])((function(){return se(e.item.uuid),t.getters.items.getAudioSrcs(e.item.uuid)})),s=Object(o["a"])((function(){return t.getters.audio.isReady})),c=function(e){a.value=e};me(a);var u=Object(o["j"])(Oa.Analysis);function l(e){u.value=e}var d=Object(o["j"])(!1),f=kn(Object(o["a"])((function(){return e.item.uuid||""}))),v=Object(o["j"])(!1),p=On(Object(o["a"])((function(){return e.item.uuid||""})));return{el:n,onSelection:c,selection:a,audioSrcs:i,audioReady:s,currentTab:u,setTab:l,Tab:Oa,isAnalysisTrackFormOpen:d,analysisTracks:f,isAnnotationTrackFormOpen:v,annotationTracks:p}}}),Tn=_n,Cn=(a("e3d2"),a("4683"),Object(x["a"])(Tn,ie,oe,!1,null,"1c4ffd84",null)),An=Cn.exports,En=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e._m(0),a("div",{staticClass:"fields"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.username,expression:"input.username"}],attrs:{type:"text",name:"username",placeholder:"Username",required:""},domProps:{value:e.input.username},on:{input:function(t){t.target.composing||e.$set(e.input,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],attrs:{type:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}})]),a("button",{staticClass:"submit"},[e._v(" "+e._s(e.loading?"Loading...":"Login")+" ")]),e.apiError?a("div",{staticClass:"error"},[e.isUnauthorized?a("div",[e._v(" Invalid credentials ")]):e.errorFmt?a("div",[e._v(" "+e._s(e.errorFmt)+" ")]):a("div",[e._v(" Unknown error: "+e._s(e.apiError)+" ")])]):e._e()])},Rn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" Fill in your "),a("a",{attrs:{href:"loginUrl",target:"_blank"}},[e._v(" WASABI credentials ")])])}],Pn=Object(o["c"])({setup:function(e,t){var a=t.emit,n=Object(o["j"])(!1),r=Object(o["j"])({username:"",password:""}),i=Object(o["j"])(void 0),s=Object(o["a"])((function(){if(i.value)return ua(i.value)})),c=Object(o["a"])((function(){return!!i.value&&401===i.value.status}));function u(){return l.apply(this,arguments)}function l(){return l=Object(_["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=void 0,n.value=!0,e.prev=2,e.next=5,g["rawApi"].createTokenObtainPair({tokenObtainPair:r.value});case 5:if(t=e.sent,t.access&&t.refresh){e.next=8;break}throw new Error("Unexpected empty token response: "+JSON.stringify(t));case 8:g["persistentToken"].token=g["JWTToken"].fromBase64(t.access,t.refresh),a("success"),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),e.t0 instanceof Response&&(i.value=e.t0),console.error(e.t0);case 16:n.value=!1;case 17:case"end":return e.stop()}}),e,null,[[2,12]])}))),l.apply(this,arguments)}return{submit:u,loading:n,input:r,apiError:i,errorFmt:s,isUnauthorized:c}}}),Ln=Pn,Sn=(a("2557"),Object(x["a"])(Ln,En,Rn,!1,null,"3d27c6e2",null)),Un=Sn.exports,In=Object(o["c"])({name:"List",props:{},components:{Player:An,Login:Un},setup:function(){var e=re(),t=Object(o["a"])((function(){return e.state.itemList.itemList})),a=Object(o["a"])((function(){return e.getters.itemList.isLoading})),n=Object(o["a"])((function(){return e.getters.itemList.isUnauthorized})),r=Object(o["a"])((function(){var t=e.state.itemList.error;if(t)return ua(t)})),i=function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch.itemList.getItems();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o["f"])((function(){i()}));var s=function(){i()};return{isLoading:a,isUnauthorized:n,itemList:t,error:r,onLogin:s}}}),Mn=In,zn=(a("3a55"),Object(x["a"])(Mn,k,O,!1,null,"1bbd752f",null)),$n=zn.exports,qn=Object(o["c"])({name:"App",components:{List:$n,SelectAPI:j},setup:function(){var e=f();function t(){g["persistentToken"].removeToken(),window.location.reload(!1)}return Object(o["f"])((function(){e.success("🎉 Welcome to timeside-player !")})),{logout:t}}}),Fn=qn,Dn=(a("4dbb"),Object(x["a"])(Fn,v,p,!1,null,"f0c7cf72",null)),Nn=Dn.exports,Vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("List")},Wn=[],Bn=Object(o["c"])({name:"ListView",components:{List:$n}}),Jn=Bn,Xn=Object(x["a"])(Jn,Vn,Wn,!1,null,null,null),Hn=Xn.exports,Gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PlayerContainer",{attrs:{"item-id":e.$route.params.id}})},Yn=[],Kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isLoading?a("div",{staticClass:"loading"},[e._v(" Loading... ")]):[e.isUnauthorized?a("div",[a("Login",{on:{success:e.onLogin}})],1):e.error?a("div",{staticClass:"error"},[e._v(" "+e._s(e.error)+" ")]):e.itemDetail?a("Player",{attrs:{item:e.itemDetail}}):a("div",[e._v(" Item not found ")])]],2)},Qn=[],Zn=Object(o["c"])({name:"PlayerContainer",props:{itemId:{type:String,required:!0}},components:{Player:An,Login:Un},setup:function(e){var t=e.itemId,a=re();if(!t)throw new Error("item has no valid ID");var n=function(){a.dispatch.items.retrieveItem(t)},r=Object(o["a"])((function(){var e=a.getters.items.getErrorById(t);if(e)return ua(e)})),i=Object(o["a"])((function(){return a.getters.items.isLoading(t)})),s=Object(o["a"])((function(){return a.getters.items.isUnauthorized(t)})),c=Object(o["a"])((function(){return a.getters.items.getItemById(t)}));Object(o["f"])((function(){return n()}));var u=function(){n()};return Object(o["g"])((function(){return a.commit.audio.resetState()})),{error:r,isLoading:i,isUnauthorized:s,itemDetail:c,onLogin:u}}}),er=Zn,tr=Object(x["a"])(er,Kn,Qn,!1,null,"b5a1538c",null),ar=tr.exports,nr=Object(o["c"])({name:"ListView",components:{PlayerContainer:ar}}),rr=nr,ir=Object(x["a"])(rr,Gn,Yn,!1,null,null,null),or=ir.exports,sr=new i["a"]({routes:[{path:"/",name:"list",component:Hn},{path:"/item/:id",name:"item",component:or}]});r["a"].config.productionTip=!1,r["a"].use(o["b"]),r["a"].use(l.a,{duration:3e3}),r["a"].use(i["a"]),new r["a"]({provide:Object(n["a"])({},d,r["a"].toasted),router:sr,render:function(e){return e(Nn)}}).$mount("#app")},d3af:function(e,t,a){var n=a("b2ad");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("f1a6bc76",n,!0,{sourceMap:!1,shadowMode:!1})},d83b:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".error[data-v-91eb1928]{color:red}",""]),e.exports=t},db5f:function(e,t,a){"use strict";var n=a("2b8e"),r=a.n(n);r.a},de5e:function(e,t,a){var n=a("b241");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("69641a8f",n,!0,{sourceMap:!1,shadowMode:!1})},e33d:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".tracks[data-v-0dbeb682]{position:relative}.analysis-track[data-v-0dbeb682],.waveform-zoom[data-v-0dbeb682]{height:200px}.track-list[data-v-0dbeb682]>:not(:last-child){margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid #c6c6c6}.animate-track-enter-active[data-v-0dbeb682]{-webkit-transition:-webkit-box-shadow 5s;transition:-webkit-box-shadow 5s;transition:box-shadow 5s;transition:box-shadow 5s,-webkit-box-shadow 5s}.animate-track-enter[data-v-0dbeb682],.animate-track-leave-to[data-v-0dbeb682]{-webkit-box-shadow:10px 10px 45px rgba(0,0,0,.6);box-shadow:10px 10px 45px rgba(0,0,0,.6)}.error[data-v-0dbeb682]{color:red}",""]),e.exports=t},e368:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".items>*[data-v-1bbd752f]{display:block}.description[data-v-1bbd752f]{font-size:12px;color:grey}.error[data-v-1bbd752f]{color:red}",""]),e.exports=t},e3d2:function(e,t,a){"use strict";var n=a("0bb9"),r=a.n(n);r.a},e7f9:function(e,t,a){var n=a("fc7d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("3cb52900",n,!0,{sourceMap:!1,shadowMode:!1})},ea67:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"rect[data-v-927b50e6]{stroke-width:0}.delimiter[data-v-927b50e6]{width:4px}.delimiter.left[data-v-927b50e6]{padding-left:5px;cursor:w-resize}.delimiter.right[data-v-927b50e6]{padding-right:5px;cursor:e-resize}.content[data-v-927b50e6]{cursor:-webkit-grab;cursor:grab;fill:rgba(92,196,255,.63)}.close[data-v-927b50e6]{cursor:pointer}",""]),e.exports=t},eaa9:function(e,t,a){"use strict";var n=a("de5e"),r=a.n(n);r.a},eb1e:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'[data-v-1c4ffd84] .form-title{font-weight:700;font-size:20px;margin-top:0}[data-v-1c4ffd84] .generic-form .select-wrapper{position:relative}[data-v-1c4ffd84] .generic-form .select-wrapper select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:1px solid grey;padding:7px 10px;width:100%;font-size:16px}[data-v-1c4ffd84] .generic-form .select-wrapper:after{content:"<>";font:17px Consolas,monospace;-webkit-transform:rotate(90deg);transform:rotate(90deg);position:absolute;right:7px;top:7px;pointer-events:noneet}[data-v-1c4ffd84] .generic-form input[type=text],[data-v-1c4ffd84] .generic-form textarea{border:1px solid grey;padding:7px 10px}[data-v-1c4ffd84] .generic-form input[type=checkbox]{margin:0;margin-right:10px}[data-v-1c4ffd84] .generic-form label{margin-right:10px}[data-v-1c4ffd84] .generic-form .field{margin-bottom:10px}[data-v-1c4ffd84] .generic-form .field.left{text-align:left}[data-v-1c4ffd84] .btn{padding:7px 10px;font-size:20px;font-weight:700;border:none;width:100%;cursor:pointer;margin-bottom:5px;border-radius:5px}[data-v-1c4ffd84] .green-btn{background:#32762f;color:#fff}[data-v-1c4ffd84] .grey-btn{background-color:#e9eaec;color:#000;font-weight:400}[data-v-1c4ffd84] .red-btn{background-color:#db4d27;color:#fff}[data-v-1c4ffd84] .info-box{position:absolute;top:5px;right:5px;z-index:5;background-color:hsla(0,0%,76.9%,.58039);padding:10px;width:160px;border-radius:5px}[data-v-1c4ffd84] .info-box .info-type{font-weight:700}[data-v-1c4ffd84] .info-box .info-title,[data-v-1c4ffd84] .info-box .info-type{margin-top:5px;margin-bottom:10px;font-size:18px}[data-v-1c4ffd84] .info-box .delete{background-color:#db4d27;color:#fff;border:none;font-size:16px;padding:7px 15px;border-radius:5px;cursor:pointer}',""]),e.exports=t},ec5f:function(e,t,a){var n=a("6abe");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("199b8322",n,!0,{sourceMap:!1,shadowMode:!1})},ed6c:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".cursor[data-v-d03ad332]{fill:red;-webkit-transform:translateX(-100%);transform:translateX(-100%);stroke-width:0}",""]),e.exports=t},edb4:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,"*[data-v-3d27c6e2]{-webkit-box-sizing:border-box;box-sizing:border-box}.login-form[data-v-3d27c6e2]{max-width:300px;margin:0 auto}.login-form button[data-v-3d27c6e2],.login-form input[data-v-3d27c6e2]{display:block;width:100%}.login-form .fields[data-v-3d27c6e2]{margin-bottom:10px}.login-form .fields[data-v-3d27c6e2]>:not(:last-child){margin-bottom:5px}.error[data-v-3d27c6e2]{color:red;margin:10px}",""]),e.exports=t},edeb:function(e,t,a){"use strict";var n=a("cb6f"),r=a.n(n);r.a},f2c2:function(e,t,a){var n=a("eb1e");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("47caef9c",n,!0,{sourceMap:!1,shadowMode:!1})},f2e3:function(e,t,a){"use strict";var n=a("ba60"),r=a.n(n);r.a},f3a3:function(e,t,a){var n=a("3724");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=a("499e").default;r("4eb768fe",n,!0,{sourceMap:!1,shadowMode:!1})},fc7d:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".track-plugins-container[data-v-259b5cc7]{display:block;position:absolute;top:0;cursor:text}",""]),e.exports=t}});
//# sourceMappingURL=app.2c3a6695.js.map